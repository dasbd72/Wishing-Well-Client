(self.webpackChunk=self.webpackChunk||[]).push([[440],{24440:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "amplify_chatbot": () => (/* binding */ AmplifyChatbot)\n});\n\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/ui-components/dist/esm-es5/index-83f2275b.js\nvar index_83f2275b = __webpack_require__(26293);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/core/lib-esm/Logger/ConsoleLogger.js\nvar ConsoleLogger = __webpack_require__(24397);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/core/lib-esm/JS.js\nvar JS = __webpack_require__(30914);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/core/lib-esm/I18n/index.js + 1 modules\nvar I18n = __webpack_require__(35160);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/ui-components/dist/esm-es5/Translations-c833f663.js\nvar Translations_c833f663 = __webpack_require__(78472);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/ui-components/dist/esm-es5/constants-d1abe7de.js\nvar constants_d1abe7de = __webpack_require__(10396);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/core/lib-esm/Amplify.js\nvar Amplify = __webpack_require__(69857);\n;// CONCATENATED MODULE: ../node_modules/@aws-amplify/interactions/lib-esm/Providers/InteractionsProvider.js\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar InteractionsProvider_assign = (undefined && undefined.__assign) || function () {\n    InteractionsProvider_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return InteractionsProvider_assign.apply(this, arguments);\n};\n\nvar logger = new ConsoleLogger/* ConsoleLogger */.k(\'AbstractInteractionsProvider\');\nvar AbstractInteractionsProvider = /** @class */ (function () {\n    function AbstractInteractionsProvider(options) {\n        if (options === void 0) { options = {}; }\n        this._config = options;\n    }\n    AbstractInteractionsProvider.prototype.configure = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = InteractionsProvider_assign(InteractionsProvider_assign({}, this._config), config);\n        logger.debug("configure " + this.getProviderName(), this._config);\n        return this.options;\n    };\n    AbstractInteractionsProvider.prototype.getCategory = function () {\n        return \'Interactions\';\n    };\n    Object.defineProperty(AbstractInteractionsProvider.prototype, "options", {\n        get: function () {\n            return InteractionsProvider_assign({}, this._config);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractInteractionsProvider;\n}());\n\n//# sourceMappingURL=InteractionsProvider.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/node_modules/tslib/tslib.es6.js\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== "function" && b !== null)\r\n        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar tslib_es6_assign = function() {\r\n    tslib_es6_assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return tslib_es6_assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction tslib_es6_awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction tslib_es6_generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nvar __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nfunction __exportStar(m, o) {\r\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === "number") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === "function" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i["return"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nfunction __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume("next", value); }\r\n    function reject(value) { resume("throw", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");\r\n    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");\r\n    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === "m") throw new TypeError("Private method is not writable");\r\n    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");\r\n    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");\r\n    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/package.json\nconst package_namespaceObject = {"i8":"3.6.1"};\n// EXTERNAL MODULE: ../node_modules/@aws-crypto/sha256-browser/build/index.js\nvar build = __webpack_require__(76066);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/fetch-http-handler/dist/es/index.js + 3 modules\nvar es = __webpack_require__(30458);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/invalid-dependency/dist/es/invalidProvider.js\nvar invalidProvider = __webpack_require__(72131);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-retry/dist/es/index.js + 10 modules\nvar dist_es = __webpack_require__(5662);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/util-base64-browser/dist/es/index.js\nvar util_base64_browser_dist_es = __webpack_require__(21823);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/util-body-length-browser/dist/es/index.js\nvar util_body_length_browser_dist_es = __webpack_require__(51355);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/util-user-agent-browser/dist/es/index.js\nvar util_user_agent_browser_dist_es = __webpack_require__(97319);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js + 2 modules\nvar util_utf8_browser_dist_es = __webpack_require__(36905);\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/endpoints.js\n\n// Partition default templates\nvar AWS_TEMPLATE = "runtime.lex.{region}.amazonaws.com";\nvar AWS_CN_TEMPLATE = "runtime.lex.{region}.amazonaws.com.cn";\nvar AWS_ISO_TEMPLATE = "runtime.lex.{region}.c2s.ic.gov";\nvar AWS_ISO_B_TEMPLATE = "runtime.lex.{region}.sc2s.sgov.gov";\nvar AWS_US_GOV_TEMPLATE = "runtime.lex.{region}.amazonaws.com";\n// Partition regions\nvar AWS_REGIONS = new Set([\n    "af-south-1",\n    "ap-east-1",\n    "ap-northeast-1",\n    "ap-northeast-2",\n    "ap-south-1",\n    "ap-southeast-1",\n    "ap-southeast-2",\n    "ca-central-1",\n    "eu-central-1",\n    "eu-north-1",\n    "eu-south-1",\n    "eu-west-1",\n    "eu-west-2",\n    "eu-west-3",\n    "me-south-1",\n    "sa-east-1",\n    "us-east-1",\n    "us-east-2",\n    "us-west-1",\n    "us-west-2",\n]);\nvar AWS_CN_REGIONS = new Set(["cn-north-1", "cn-northwest-1"]);\nvar AWS_ISO_REGIONS = new Set(["us-iso-east-1"]);\nvar AWS_ISO_B_REGIONS = new Set(["us-isob-east-1"]);\nvar AWS_US_GOV_REGIONS = new Set(["us-gov-east-1", "us-gov-west-1"]);\nvar defaultRegionInfoProvider = function (region, options) {\n    var regionInfo = undefined;\n    switch (region) {\n        // First, try to match exact region names.\n        case "ap-northeast-1":\n            regionInfo = {\n                hostname: "runtime.lex.ap-northeast-1.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "ap-southeast-1":\n            regionInfo = {\n                hostname: "runtime.lex.ap-southeast-1.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "ap-southeast-2":\n            regionInfo = {\n                hostname: "runtime.lex.ap-southeast-2.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "eu-central-1":\n            regionInfo = {\n                hostname: "runtime.lex.eu-central-1.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "eu-west-1":\n            regionInfo = {\n                hostname: "runtime.lex.eu-west-1.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "eu-west-2":\n            regionInfo = {\n                hostname: "runtime.lex.eu-west-2.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "us-east-1":\n            regionInfo = {\n                hostname: "runtime.lex.us-east-1.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        case "us-west-2":\n            regionInfo = {\n                hostname: "runtime.lex.us-west-2.amazonaws.com",\n                partition: "aws",\n                signingService: "lex",\n            };\n            break;\n        // Next, try to match partition endpoints.\n        default:\n            if (AWS_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace("{region}", region),\n                    partition: "aws",\n                    signingService: "lex",\n                };\n            }\n            if (AWS_CN_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_CN_TEMPLATE.replace("{region}", region),\n                    partition: "aws-cn",\n                };\n            }\n            if (AWS_ISO_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_TEMPLATE.replace("{region}", region),\n                    partition: "aws-iso",\n                };\n            }\n            if (AWS_ISO_B_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_B_TEMPLATE.replace("{region}", region),\n                    partition: "aws-iso-b",\n                };\n            }\n            if (AWS_US_GOV_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_US_GOV_TEMPLATE.replace("{region}", region),\n                    partition: "aws-us-gov",\n                };\n            }\n            // Finally, assume it\'s an AWS partition endpoint.\n            if (regionInfo === undefined) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace("{region}", region),\n                    partition: "aws",\n                    signingService: "lex",\n                };\n            }\n    }\n    return Promise.resolve(tslib_es6_assign({ signingService: "lex" }, regionInfo));\n};\n//# sourceMappingURL=endpoints.js.map\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/url-parser/dist/es/index.js + 1 modules\nvar url_parser_dist_es = __webpack_require__(89656);\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/runtimeConfig.shared.js\n\n\n/**\n * @internal\n */\nvar ClientSharedValues = {\n    apiVersion: "2016-11-28",\n    disableHostPrefix: false,\n    logger: {},\n    regionInfoProvider: defaultRegionInfoProvider,\n    serviceId: "Lex Runtime Service",\n    urlParser: url_parser_dist_es/* parseUrl */.e,\n};\n//# sourceMappingURL=runtimeConfig.shared.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/runtimeConfig.browser.js\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @internal\n */\nvar ClientDefaultValues = tslib_es6_assign(tslib_es6_assign({}, ClientSharedValues), { runtime: "browser", base64Decoder: util_base64_browser_dist_es/* fromBase64 */.G, base64Encoder: util_base64_browser_dist_es/* toBase64 */.s, bodyLengthChecker: util_body_length_browser_dist_es/* calculateBodyLength */.W, credentialDefaultProvider: function (_) { return function () { return Promise.reject(new Error("Credential is missing")); }; }, defaultUserAgentProvider: (0,util_user_agent_browser_dist_es/* defaultUserAgent */.f)({\n        serviceId: ClientSharedValues.serviceId,\n        clientVersion: package_namespaceObject.i8,\n    }), maxAttempts: dist_es/* DEFAULT_MAX_ATTEMPTS */.J, region: (0,invalidProvider/* invalidProvider */.n)("Region is missing"), requestHandler: new es/* FetchHttpHandler */.B(), sha256: build.Sha256, streamCollector: es/* streamCollector */.C, utf8Decoder: util_utf8_browser_dist_es.fromUtf8, utf8Encoder: util_utf8_browser_dist_es.toUtf8 });\n//# sourceMappingURL=runtimeConfig.browser.js.map\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/config-resolver/dist/es/index.js + 2 modules\nvar config_resolver_dist_es = __webpack_require__(88706);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-content-length/dist/es/index.js\nvar middleware_content_length_dist_es = __webpack_require__(44663);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-host-header/dist/es/index.js\nvar middleware_host_header_dist_es = __webpack_require__(74178);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-logger/dist/es/index.js + 1 modules\nvar middleware_logger_dist_es = __webpack_require__(44851);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-signing/dist/es/index.js + 2 modules\nvar middleware_signing_dist_es = __webpack_require__(42552);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-user-agent/dist/es/index.js + 3 modules\nvar middleware_user_agent_dist_es = __webpack_require__(38805);\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/smithy-client/dist/es/index.js + 10 modules\nvar smithy_client_dist_es = __webpack_require__(64789);\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/LexRuntimeServiceClient.js\n\n\n\n\n\n\n\n\n\n\n/**\n * <p>Amazon Lex provides both build and runtime endpoints. Each endpoint provides a set of\n *       operations (API). Your conversational bot uses the runtime API to understand user utterances\n *       (user input text or voice). For example, suppose a user says "I want pizza", your bot sends\n *       this input to Amazon Lex using the runtime API. Amazon Lex recognizes that the user request is\n *       for the OrderPizza intent (one of the intents defined in the bot). Then Amazon Lex engages in\n *       user conversation on behalf of the bot to elicit required information (slot values, such as\n *       pizza size and crust type), and then performs fulfillment activity (that you configured when\n *       you created the bot). You use the build-time API to create and manage your Amazon Lex bot. For\n *       a list of build-time operations, see the build-time API, . </p>\n */\nvar LexRuntimeServiceClient = /** @class */ (function (_super) {\n    __extends(LexRuntimeServiceClient, _super);\n    function LexRuntimeServiceClient(configuration) {\n        var _this = this;\n        var _config_0 = tslib_es6_assign(tslib_es6_assign({}, ClientDefaultValues), configuration);\n        var _config_1 = (0,config_resolver_dist_es/* resolveRegionConfig */.Xb)(_config_0);\n        var _config_2 = (0,config_resolver_dist_es/* resolveEndpointsConfig */.g4)(_config_1);\n        var _config_3 = (0,middleware_signing_dist_es/* resolveAwsAuthConfig */.A$)(_config_2);\n        var _config_4 = (0,dist_es/* resolveRetryConfig */.BC)(_config_3);\n        var _config_5 = (0,middleware_host_header_dist_es/* resolveHostHeaderConfig */.S8)(_config_4);\n        var _config_6 = (0,middleware_user_agent_dist_es/* resolveUserAgentConfig */.er)(_config_5);\n        _this = _super.call(this, _config_6) || this;\n        _this.config = _config_6;\n        _this.middlewareStack.use((0,middleware_signing_dist_es/* getAwsAuthPlugin */.yt)(_this.config));\n        _this.middlewareStack.use((0,dist_es/* getRetryPlugin */.NQ)(_this.config));\n        _this.middlewareStack.use((0,middleware_content_length_dist_es/* getContentLengthPlugin */.VG)(_this.config));\n        _this.middlewareStack.use((0,middleware_host_header_dist_es/* getHostHeaderPlugin */.G2)(_this.config));\n        _this.middlewareStack.use((0,middleware_logger_dist_es/* getLoggerPlugin */.cV)(_this.config));\n        _this.middlewareStack.use((0,middleware_user_agent_dist_es/* getUserAgentPlugin */.XJ)(_this.config));\n        return _this;\n    }\n    LexRuntimeServiceClient.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return LexRuntimeServiceClient;\n}(smithy_client_dist_es/* Client */.KU));\n\n//# sourceMappingURL=LexRuntimeServiceClient.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/models/models_0.js\n\n\nvar ActiveContextTimeToLive;\n(function (ActiveContextTimeToLive) {\n    ActiveContextTimeToLive.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(ActiveContextTimeToLive || (ActiveContextTimeToLive = {}));\nvar ActiveContext;\n(function (ActiveContext) {\n    ActiveContext.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign({}, obj), (obj.parameters && { parameters: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(ActiveContext || (ActiveContext = {}));\nvar BadRequestException;\n(function (BadRequestException) {\n    BadRequestException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(BadRequestException || (BadRequestException = {}));\nvar ConflictException;\n(function (ConflictException) {\n    ConflictException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(ConflictException || (ConflictException = {}));\nvar DeleteSessionRequest;\n(function (DeleteSessionRequest) {\n    DeleteSessionRequest.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(DeleteSessionRequest || (DeleteSessionRequest = {}));\nvar DeleteSessionResponse;\n(function (DeleteSessionResponse) {\n    DeleteSessionResponse.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(DeleteSessionResponse || (DeleteSessionResponse = {}));\nvar InternalFailureException;\n(function (InternalFailureException) {\n    InternalFailureException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(InternalFailureException || (InternalFailureException = {}));\nvar LimitExceededException;\n(function (LimitExceededException) {\n    LimitExceededException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(LimitExceededException || (LimitExceededException = {}));\nvar NotFoundException;\n(function (NotFoundException) {\n    NotFoundException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(NotFoundException || (NotFoundException = {}));\nvar GetSessionRequest;\n(function (GetSessionRequest) {\n    GetSessionRequest.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(GetSessionRequest || (GetSessionRequest = {}));\nvar FulfillmentState;\n(function (FulfillmentState) {\n    FulfillmentState["FAILED"] = "Failed";\n    FulfillmentState["FULFILLED"] = "Fulfilled";\n    FulfillmentState["READY_FOR_FULFILLMENT"] = "ReadyForFulfillment";\n})(FulfillmentState || (FulfillmentState = {}));\nvar MessageFormatType;\n(function (MessageFormatType) {\n    MessageFormatType["COMPOSITE"] = "Composite";\n    MessageFormatType["CUSTOM_PAYLOAD"] = "CustomPayload";\n    MessageFormatType["PLAIN_TEXT"] = "PlainText";\n    MessageFormatType["SSML"] = "SSML";\n})(MessageFormatType || (MessageFormatType = {}));\nvar DialogActionType;\n(function (DialogActionType) {\n    DialogActionType["CLOSE"] = "Close";\n    DialogActionType["CONFIRM_INTENT"] = "ConfirmIntent";\n    DialogActionType["DELEGATE"] = "Delegate";\n    DialogActionType["ELICIT_INTENT"] = "ElicitIntent";\n    DialogActionType["ELICIT_SLOT"] = "ElicitSlot";\n})(DialogActionType || (DialogActionType = {}));\nvar DialogAction;\n(function (DialogAction) {\n    DialogAction.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.slots && { slots: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.message && { message: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(DialogAction || (DialogAction = {}));\nvar ConfirmationStatus;\n(function (ConfirmationStatus) {\n    ConfirmationStatus["CONFIRMED"] = "Confirmed";\n    ConfirmationStatus["DENIED"] = "Denied";\n    ConfirmationStatus["NONE"] = "None";\n})(ConfirmationStatus || (ConfirmationStatus = {}));\nvar IntentSummary;\n(function (IntentSummary) {\n    IntentSummary.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign({}, obj), (obj.slots && { slots: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(IntentSummary || (IntentSummary = {}));\nvar GetSessionResponse;\n(function (GetSessionResponse) {\n    GetSessionResponse.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.recentIntentSummaryView && {\n        recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) { return IntentSummary.filterSensitiveLog(item); }),\n    })), (obj.sessionAttributes && { sessionAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.dialogAction && { dialogAction: DialogAction.filterSensitiveLog(obj.dialogAction) })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(GetSessionResponse || (GetSessionResponse = {}));\nvar BadGatewayException;\n(function (BadGatewayException) {\n    BadGatewayException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(BadGatewayException || (BadGatewayException = {}));\nvar DependencyFailedException;\n(function (DependencyFailedException) {\n    DependencyFailedException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(DependencyFailedException || (DependencyFailedException = {}));\nvar LoopDetectedException;\n(function (LoopDetectedException) {\n    LoopDetectedException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(LoopDetectedException || (LoopDetectedException = {}));\nvar NotAcceptableException;\n(function (NotAcceptableException) {\n    NotAcceptableException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(NotAcceptableException || (NotAcceptableException = {}));\nvar PostContentRequest;\n(function (PostContentRequest) {\n    PostContentRequest.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.sessionAttributes && { sessionAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.requestAttributes && { requestAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PostContentRequest || (PostContentRequest = {}));\nvar DialogState;\n(function (DialogState) {\n    DialogState["CONFIRM_INTENT"] = "ConfirmIntent";\n    DialogState["ELICIT_INTENT"] = "ElicitIntent";\n    DialogState["ELICIT_SLOT"] = "ElicitSlot";\n    DialogState["FAILED"] = "Failed";\n    DialogState["FULFILLED"] = "Fulfilled";\n    DialogState["READY_FOR_FULFILLMENT"] = "ReadyForFulfillment";\n})(DialogState || (DialogState = {}));\nvar PostContentResponse;\n(function (PostContentResponse) {\n    PostContentResponse.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.message && { message: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PostContentResponse || (PostContentResponse = {}));\nvar RequestTimeoutException;\n(function (RequestTimeoutException) {\n    RequestTimeoutException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(RequestTimeoutException || (RequestTimeoutException = {}));\nvar UnsupportedMediaTypeException;\n(function (UnsupportedMediaTypeException) {\n    UnsupportedMediaTypeException.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(UnsupportedMediaTypeException || (UnsupportedMediaTypeException = {}));\nvar PostTextRequest;\n(function (PostTextRequest) {\n    PostTextRequest.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.sessionAttributes && { sessionAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.requestAttributes && { requestAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.inputText && { inputText: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PostTextRequest || (PostTextRequest = {}));\nvar IntentConfidence;\n(function (IntentConfidence) {\n    IntentConfidence.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(IntentConfidence || (IntentConfidence = {}));\nvar PredictedIntent;\n(function (PredictedIntent) {\n    PredictedIntent.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign({}, obj), (obj.slots && { slots: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PredictedIntent || (PredictedIntent = {}));\nvar ContentType;\n(function (ContentType) {\n    ContentType["GENERIC"] = "application/vnd.amazonaws.card.generic";\n})(ContentType || (ContentType = {}));\nvar Button;\n(function (Button) {\n    Button.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(Button || (Button = {}));\nvar GenericAttachment;\n(function (GenericAttachment) {\n    GenericAttachment.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(GenericAttachment || (GenericAttachment = {}));\nvar ResponseCard;\n(function (ResponseCard) {\n    ResponseCard.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(ResponseCard || (ResponseCard = {}));\nvar SentimentResponse;\n(function (SentimentResponse) {\n    SentimentResponse.filterSensitiveLog = function (obj) { return (tslib_es6_assign({}, obj)); };\n})(SentimentResponse || (SentimentResponse = {}));\nvar PostTextResponse;\n(function (PostTextResponse) {\n    PostTextResponse.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.alternativeIntents && {\n        alternativeIntents: obj.alternativeIntents.map(function (item) { return PredictedIntent.filterSensitiveLog(item); }),\n    })), (obj.slots && { slots: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.sessionAttributes && { sessionAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.message && { message: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PostTextResponse || (PostTextResponse = {}));\nvar PutSessionRequest;\n(function (PutSessionRequest) {\n    PutSessionRequest.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.sessionAttributes && { sessionAttributes: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.dialogAction && { dialogAction: DialogAction.filterSensitiveLog(obj.dialogAction) })), (obj.recentIntentSummaryView && {\n        recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) { return IntentSummary.filterSensitiveLog(item); }),\n    })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PutSessionRequest || (PutSessionRequest = {}));\nvar PutSessionResponse;\n(function (PutSessionResponse) {\n    PutSessionResponse.filterSensitiveLog = function (obj) { return (tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, obj), (obj.message && { message: smithy_client_dist_es/* SENSITIVE_STRING */.oc })), (obj.activeContexts && { activeContexts: smithy_client_dist_es/* SENSITIVE_STRING */.oc }))); };\n})(PutSessionResponse || (PutSessionResponse = {}));\n//# sourceMappingURL=models_0.js.map\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/protocol-http/dist/es/index.js + 2 modules\nvar protocol_http_dist_es = __webpack_require__(58490);\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/protocols/Aws_restJson1.js\n\n\n\nvar serializeAws_restJson1DeleteSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = "/bot/{botName}/alias/{botAlias}/user/{userId}/session";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botName.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botName}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botName.");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botAlias.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botAlias}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botAlias.");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: userId.");\n                    }\n                    resolvedPath = resolvedPath.replace("{userId}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: userId.");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? "https" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: "DELETE",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nvar serializeAws_restJson1GetSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = "/bot/{botName}/alias/{botAlias}/user/{userId}/session";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botName.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botName}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botName.");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botAlias.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botAlias}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botAlias.");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: userId.");\n                    }\n                    resolvedPath = resolvedPath.replace("{userId}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: userId.");\n                }\n                query = __assign({}, (input.checkpointLabelFilter !== undefined && { checkpointLabelFilter: input.checkpointLabelFilter }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? "https" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: "GET",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nvar serializeAws_restJson1PostContentCommand = function (input, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return tslib_es6_generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({ "content-type": "application/octet-stream", "x-amz-content-sha256": "UNSIGNED-PAYLOAD" }, (isSerializableHeaderValue(input.sessionAttributes) && {\n                    "x-amz-lex-session-attributes": Buffer.from(smithy_client_dist_es/* LazyJsonString.fromObject */.QT.fromObject(input.sessionAttributes)).toString("base64"),\n                })), (isSerializableHeaderValue(input.requestAttributes) && {\n                    "x-amz-lex-request-attributes": Buffer.from(smithy_client_dist_es/* LazyJsonString.fromObject */.QT.fromObject(input.requestAttributes)).toString("base64"),\n                })), (isSerializableHeaderValue(input.contentType) && { "content-type": input.contentType })), (isSerializableHeaderValue(input.accept) && { accept: input.accept })), (isSerializableHeaderValue(input.activeContexts) && {\n                    "x-amz-lex-active-contexts": Buffer.from(smithy_client_dist_es/* LazyJsonString.fromObject */.QT.fromObject(input.activeContexts)).toString("base64"),\n                }));\n                resolvedPath = "/bot/{botName}/alias/{botAlias}/user/{userId}/content";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botName.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botName}", (0,smithy_client_dist_es/* extendedEncodeURIComponent */.jc)(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botName.");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botAlias.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botAlias}", (0,smithy_client_dist_es/* extendedEncodeURIComponent */.jc)(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botAlias.");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: userId.");\n                    }\n                    resolvedPath = resolvedPath.replace("{userId}", (0,smithy_client_dist_es/* extendedEncodeURIComponent */.jc)(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: userId.");\n                }\n                if (input.inputStream !== undefined) {\n                    body = input.inputStream;\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? "https" : _b, port = _a.port;\n                return [2 /*return*/, new protocol_http_dist_es/* HttpRequest */.aW({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: "POST",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nvar serializeAws_restJson1PostTextCommand = function (input, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return tslib_es6_generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {\n                    "content-type": "application/json",\n                };\n                resolvedPath = "/bot/{botName}/alias/{botAlias}/user/{userId}/text";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botName.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botName}", (0,smithy_client_dist_es/* extendedEncodeURIComponent */.jc)(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botName.");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botAlias.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botAlias}", (0,smithy_client_dist_es/* extendedEncodeURIComponent */.jc)(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botAlias.");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: userId.");\n                    }\n                    resolvedPath = resolvedPath.replace("{userId}", (0,smithy_client_dist_es/* extendedEncodeURIComponent */.jc)(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: userId.");\n                }\n                body = JSON.stringify(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, (input.activeContexts !== undefined &&\n                    input.activeContexts !== null && {\n                    activeContexts: serializeAws_restJson1ActiveContextsList(input.activeContexts, context),\n                })), (input.inputText !== undefined && input.inputText !== null && { inputText: input.inputText })), (input.requestAttributes !== undefined &&\n                    input.requestAttributes !== null && {\n                    requestAttributes: serializeAws_restJson1StringMap(input.requestAttributes, context),\n                })), (input.sessionAttributes !== undefined &&\n                    input.sessionAttributes !== null && {\n                    sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? "https" : _b, port = _a.port;\n                return [2 /*return*/, new protocol_http_dist_es/* HttpRequest */.aW({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: "POST",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nvar serializeAws_restJson1PutSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ "content-type": "application/json" }, (isSerializableHeaderValue(input.accept) && { accept: input.accept }));\n                resolvedPath = "/bot/{botName}/alias/{botAlias}/user/{userId}/session";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botName.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botName}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botName.");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: botAlias.");\n                    }\n                    resolvedPath = resolvedPath.replace("{botAlias}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: botAlias.");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error("Empty value provided for input HTTP label: userId.");\n                    }\n                    resolvedPath = resolvedPath.replace("{userId}", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error("No value provided for input HTTP label: userId.");\n                }\n                body = JSON.stringify(__assign(__assign(__assign(__assign({}, (input.activeContexts !== undefined &&\n                    input.activeContexts !== null && {\n                    activeContexts: serializeAws_restJson1ActiveContextsList(input.activeContexts, context),\n                })), (input.dialogAction !== undefined &&\n                    input.dialogAction !== null && { dialogAction: serializeAws_restJson1DialogAction(input.dialogAction, context) })), (input.recentIntentSummaryView !== undefined &&\n                    input.recentIntentSummaryView !== null && {\n                    recentIntentSummaryView: serializeAws_restJson1IntentSummaryList(input.recentIntentSummaryView, context),\n                })), (input.sessionAttributes !== undefined &&\n                    input.sessionAttributes !== null && {\n                    sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? "https" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: "POST",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteSessionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    botAlias: undefined,\n                    botName: undefined,\n                    sessionId: undefined,\n                    userId: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.botAlias !== undefined && data.botAlias !== null) {\n                    contents.botAlias = data.botAlias;\n                }\n                if (data.botName !== undefined && data.botName !== null) {\n                    contents.botName = data.botName;\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                if (data.userId !== undefined && data.userId !== null) {\n                    contents.userId = data.userId;\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = "UnknownError";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case "BadRequestException": return [3 /*break*/, 2];\n                    case "com.amazonaws.lexruntimeservice#BadRequestException": return [3 /*break*/, 2];\n                    case "ConflictException": return [3 /*break*/, 4];\n                    case "com.amazonaws.lexruntimeservice#ConflictException": return [3 /*break*/, 4];\n                    case "InternalFailureException": return [3 /*break*/, 6];\n                    case "com.amazonaws.lexruntimeservice#InternalFailureException": return [3 /*break*/, 6];\n                    case "LimitExceededException": return [3 /*break*/, 8];\n                    case "com.amazonaws.lexruntimeservice#LimitExceededException": return [3 /*break*/, 8];\n                    case "NotFoundException": return [3 /*break*/, 10];\n                    case "com.amazonaws.lexruntimeservice#NotFoundException": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: "" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: "client", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1GetSessionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    activeContexts: undefined,\n                    dialogAction: undefined,\n                    recentIntentSummaryView: undefined,\n                    sessionAttributes: undefined,\n                    sessionId: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.activeContexts !== undefined && data.activeContexts !== null) {\n                    contents.activeContexts = deserializeAws_restJson1ActiveContextsList(data.activeContexts, context);\n                }\n                if (data.dialogAction !== undefined && data.dialogAction !== null) {\n                    contents.dialogAction = deserializeAws_restJson1DialogAction(data.dialogAction, context);\n                }\n                if (data.recentIntentSummaryView !== undefined && data.recentIntentSummaryView !== null) {\n                    contents.recentIntentSummaryView = deserializeAws_restJson1IntentSummaryList(data.recentIntentSummaryView, context);\n                }\n                if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n                    contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = "UnknownError";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case "BadRequestException": return [3 /*break*/, 2];\n                    case "com.amazonaws.lexruntimeservice#BadRequestException": return [3 /*break*/, 2];\n                    case "InternalFailureException": return [3 /*break*/, 4];\n                    case "com.amazonaws.lexruntimeservice#InternalFailureException": return [3 /*break*/, 4];\n                    case "LimitExceededException": return [3 /*break*/, 6];\n                    case "com.amazonaws.lexruntimeservice#LimitExceededException": return [3 /*break*/, 6];\n                    case "NotFoundException": return [3 /*break*/, 8];\n                    case "com.amazonaws.lexruntimeservice#NotFoundException": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: "" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: "client", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PostContentCommand = function (output, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restJson1PostContentCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            activeContexts: undefined,\n            alternativeIntents: undefined,\n            audioStream: undefined,\n            botVersion: undefined,\n            contentType: undefined,\n            dialogState: undefined,\n            inputTranscript: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            nluIntentConfidence: undefined,\n            sentimentResponse: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined,\n        };\n        if (output.headers["content-type"] !== undefined) {\n            contents.contentType = output.headers["content-type"];\n        }\n        if (output.headers["x-amz-lex-intent-name"] !== undefined) {\n            contents.intentName = output.headers["x-amz-lex-intent-name"];\n        }\n        if (output.headers["x-amz-lex-nlu-intent-confidence"] !== undefined) {\n            contents.nluIntentConfidence = new smithy_client_dist_es/* LazyJsonString */.QT(Buffer.from(output.headers["x-amz-lex-nlu-intent-confidence"], "base64").toString("ascii"));\n        }\n        if (output.headers["x-amz-lex-alternative-intents"] !== undefined) {\n            contents.alternativeIntents = new smithy_client_dist_es/* LazyJsonString */.QT(Buffer.from(output.headers["x-amz-lex-alternative-intents"], "base64").toString("ascii"));\n        }\n        if (output.headers["x-amz-lex-slots"] !== undefined) {\n            contents.slots = new smithy_client_dist_es/* LazyJsonString */.QT(Buffer.from(output.headers["x-amz-lex-slots"], "base64").toString("ascii"));\n        }\n        if (output.headers["x-amz-lex-session-attributes"] !== undefined) {\n            contents.sessionAttributes = new smithy_client_dist_es/* LazyJsonString */.QT(Buffer.from(output.headers["x-amz-lex-session-attributes"], "base64").toString("ascii"));\n        }\n        if (output.headers["x-amz-lex-sentiment"] !== undefined) {\n            contents.sentimentResponse = output.headers["x-amz-lex-sentiment"];\n        }\n        if (output.headers["x-amz-lex-message"] !== undefined) {\n            contents.message = output.headers["x-amz-lex-message"];\n        }\n        if (output.headers["x-amz-lex-message-format"] !== undefined) {\n            contents.messageFormat = output.headers["x-amz-lex-message-format"];\n        }\n        if (output.headers["x-amz-lex-dialog-state"] !== undefined) {\n            contents.dialogState = output.headers["x-amz-lex-dialog-state"];\n        }\n        if (output.headers["x-amz-lex-slot-to-elicit"] !== undefined) {\n            contents.slotToElicit = output.headers["x-amz-lex-slot-to-elicit"];\n        }\n        if (output.headers["x-amz-lex-input-transcript"] !== undefined) {\n            contents.inputTranscript = output.headers["x-amz-lex-input-transcript"];\n        }\n        if (output.headers["x-amz-lex-bot-version"] !== undefined) {\n            contents.botVersion = output.headers["x-amz-lex-bot-version"];\n        }\n        if (output.headers["x-amz-lex-session-id"] !== undefined) {\n            contents.sessionId = output.headers["x-amz-lex-session-id"];\n        }\n        if (output.headers["x-amz-lex-active-contexts"] !== undefined) {\n            contents.activeContexts = new smithy_client_dist_es/* LazyJsonString */.QT(Buffer.from(output.headers["x-amz-lex-active-contexts"], "base64").toString("ascii"));\n        }\n        data = output.body;\n        contents.audioStream = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restJson1PostContentCommandError = function (output, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, parsedBody, message;\n    var _p;\n    return tslib_es6_generator(this, function (_q) {\n        switch (_q.label) {\n            case 0:\n                _a = [tslib_es6_assign({}, output)];\n                _p = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = tslib_es6_assign.apply(void 0, _a.concat([(_p.body = _q.sent(), _p)]));\n                errorCode = "UnknownError";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case "BadGatewayException": return [3 /*break*/, 2];\n                    case "com.amazonaws.lexruntimeservice#BadGatewayException": return [3 /*break*/, 2];\n                    case "BadRequestException": return [3 /*break*/, 4];\n                    case "com.amazonaws.lexruntimeservice#BadRequestException": return [3 /*break*/, 4];\n                    case "ConflictException": return [3 /*break*/, 6];\n                    case "com.amazonaws.lexruntimeservice#ConflictException": return [3 /*break*/, 6];\n                    case "DependencyFailedException": return [3 /*break*/, 8];\n                    case "com.amazonaws.lexruntimeservice#DependencyFailedException": return [3 /*break*/, 8];\n                    case "InternalFailureException": return [3 /*break*/, 10];\n                    case "com.amazonaws.lexruntimeservice#InternalFailureException": return [3 /*break*/, 10];\n                    case "LimitExceededException": return [3 /*break*/, 12];\n                    case "com.amazonaws.lexruntimeservice#LimitExceededException": return [3 /*break*/, 12];\n                    case "LoopDetectedException": return [3 /*break*/, 14];\n                    case "com.amazonaws.lexruntimeservice#LoopDetectedException": return [3 /*break*/, 14];\n                    case "NotAcceptableException": return [3 /*break*/, 16];\n                    case "com.amazonaws.lexruntimeservice#NotAcceptableException": return [3 /*break*/, 16];\n                    case "NotFoundException": return [3 /*break*/, 18];\n                    case "com.amazonaws.lexruntimeservice#NotFoundException": return [3 /*break*/, 18];\n                    case "RequestTimeoutException": return [3 /*break*/, 20];\n                    case "com.amazonaws.lexruntimeservice#RequestTimeoutException": return [3 /*break*/, 20];\n                    case "UnsupportedMediaTypeException": return [3 /*break*/, 22];\n                    case "com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException": return [3 /*break*/, 22];\n                }\n                return [3 /*break*/, 24];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _c.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _d.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _e.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _f.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _g.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _h.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _j.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _k.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 18:\n                _l = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 19:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _l.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 20:\n                _m = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1RequestTimeoutExceptionResponse(parsedOutput, context)];\n            case 21:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _m.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 22:\n                _o = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse(parsedOutput, context)];\n            case 23:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _o.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 24:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = tslib_es6_assign(tslib_es6_assign({}, parsedBody), { name: "" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: "client", $metadata: deserializeMetadata(output) });\n                _q.label = 25;\n            case 25:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PostTextCommand = function (output, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restJson1PostTextCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    activeContexts: undefined,\n                    alternativeIntents: undefined,\n                    botVersion: undefined,\n                    dialogState: undefined,\n                    intentName: undefined,\n                    message: undefined,\n                    messageFormat: undefined,\n                    nluIntentConfidence: undefined,\n                    responseCard: undefined,\n                    sentimentResponse: undefined,\n                    sessionAttributes: undefined,\n                    sessionId: undefined,\n                    slotToElicit: undefined,\n                    slots: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.activeContexts !== undefined && data.activeContexts !== null) {\n                    contents.activeContexts = deserializeAws_restJson1ActiveContextsList(data.activeContexts, context);\n                }\n                if (data.alternativeIntents !== undefined && data.alternativeIntents !== null) {\n                    contents.alternativeIntents = deserializeAws_restJson1IntentList(data.alternativeIntents, context);\n                }\n                if (data.botVersion !== undefined && data.botVersion !== null) {\n                    contents.botVersion = data.botVersion;\n                }\n                if (data.dialogState !== undefined && data.dialogState !== null) {\n                    contents.dialogState = data.dialogState;\n                }\n                if (data.intentName !== undefined && data.intentName !== null) {\n                    contents.intentName = data.intentName;\n                }\n                if (data.message !== undefined && data.message !== null) {\n                    contents.message = data.message;\n                }\n                if (data.messageFormat !== undefined && data.messageFormat !== null) {\n                    contents.messageFormat = data.messageFormat;\n                }\n                if (data.nluIntentConfidence !== undefined && data.nluIntentConfidence !== null) {\n                    contents.nluIntentConfidence = deserializeAws_restJson1IntentConfidence(data.nluIntentConfidence, context);\n                }\n                if (data.responseCard !== undefined && data.responseCard !== null) {\n                    contents.responseCard = deserializeAws_restJson1ResponseCard(data.responseCard, context);\n                }\n                if (data.sentimentResponse !== undefined && data.sentimentResponse !== null) {\n                    contents.sentimentResponse = deserializeAws_restJson1SentimentResponse(data.sentimentResponse, context);\n                }\n                if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n                    contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                if (data.slotToElicit !== undefined && data.slotToElicit !== null) {\n                    contents.slotToElicit = data.slotToElicit;\n                }\n                if (data.slots !== undefined && data.slots !== null) {\n                    contents.slots = deserializeAws_restJson1StringMap(data.slots, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PostTextCommandError = function (output, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n    var _l;\n    return tslib_es6_generator(this, function (_m) {\n        switch (_m.label) {\n            case 0:\n                _a = [tslib_es6_assign({}, output)];\n                _l = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = tslib_es6_assign.apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n                errorCode = "UnknownError";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case "BadGatewayException": return [3 /*break*/, 2];\n                    case "com.amazonaws.lexruntimeservice#BadGatewayException": return [3 /*break*/, 2];\n                    case "BadRequestException": return [3 /*break*/, 4];\n                    case "com.amazonaws.lexruntimeservice#BadRequestException": return [3 /*break*/, 4];\n                    case "ConflictException": return [3 /*break*/, 6];\n                    case "com.amazonaws.lexruntimeservice#ConflictException": return [3 /*break*/, 6];\n                    case "DependencyFailedException": return [3 /*break*/, 8];\n                    case "com.amazonaws.lexruntimeservice#DependencyFailedException": return [3 /*break*/, 8];\n                    case "InternalFailureException": return [3 /*break*/, 10];\n                    case "com.amazonaws.lexruntimeservice#InternalFailureException": return [3 /*break*/, 10];\n                    case "LimitExceededException": return [3 /*break*/, 12];\n                    case "com.amazonaws.lexruntimeservice#LimitExceededException": return [3 /*break*/, 12];\n                    case "LoopDetectedException": return [3 /*break*/, 14];\n                    case "com.amazonaws.lexruntimeservice#LoopDetectedException": return [3 /*break*/, 14];\n                    case "NotFoundException": return [3 /*break*/, 16];\n                    case "com.amazonaws.lexruntimeservice#NotFoundException": return [3 /*break*/, 16];\n                }\n                return [3 /*break*/, 18];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _c.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = tslib_es6_assign.apply(void 0, [tslib_es6_assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 18:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = tslib_es6_assign(tslib_es6_assign({}, parsedBody), { name: "" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: "client", $metadata: deserializeMetadata(output) });\n                _m.label = 19;\n            case 19:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PutSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restJson1PutSessionCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            activeContexts: undefined,\n            audioStream: undefined,\n            contentType: undefined,\n            dialogState: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined,\n        };\n        if (output.headers["content-type"] !== undefined) {\n            contents.contentType = output.headers["content-type"];\n        }\n        if (output.headers["x-amz-lex-intent-name"] !== undefined) {\n            contents.intentName = output.headers["x-amz-lex-intent-name"];\n        }\n        if (output.headers["x-amz-lex-slots"] !== undefined) {\n            contents.slots = new __LazyJsonString(Buffer.from(output.headers["x-amz-lex-slots"], "base64").toString("ascii"));\n        }\n        if (output.headers["x-amz-lex-session-attributes"] !== undefined) {\n            contents.sessionAttributes = new __LazyJsonString(Buffer.from(output.headers["x-amz-lex-session-attributes"], "base64").toString("ascii"));\n        }\n        if (output.headers["x-amz-lex-message"] !== undefined) {\n            contents.message = output.headers["x-amz-lex-message"];\n        }\n        if (output.headers["x-amz-lex-message-format"] !== undefined) {\n            contents.messageFormat = output.headers["x-amz-lex-message-format"];\n        }\n        if (output.headers["x-amz-lex-dialog-state"] !== undefined) {\n            contents.dialogState = output.headers["x-amz-lex-dialog-state"];\n        }\n        if (output.headers["x-amz-lex-slot-to-elicit"] !== undefined) {\n            contents.slotToElicit = output.headers["x-amz-lex-slot-to-elicit"];\n        }\n        if (output.headers["x-amz-lex-session-id"] !== undefined) {\n            contents.sessionId = output.headers["x-amz-lex-session-id"];\n        }\n        if (output.headers["x-amz-lex-active-contexts"] !== undefined) {\n            contents.activeContexts = new __LazyJsonString(Buffer.from(output.headers["x-amz-lex-active-contexts"], "base64").toString("ascii"));\n        }\n        data = output.body;\n        contents.audioStream = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restJson1PutSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n    var _l;\n    return __generator(this, function (_m) {\n        switch (_m.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _l = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n                errorCode = "UnknownError";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case "BadGatewayException": return [3 /*break*/, 2];\n                    case "com.amazonaws.lexruntimeservice#BadGatewayException": return [3 /*break*/, 2];\n                    case "BadRequestException": return [3 /*break*/, 4];\n                    case "com.amazonaws.lexruntimeservice#BadRequestException": return [3 /*break*/, 4];\n                    case "ConflictException": return [3 /*break*/, 6];\n                    case "com.amazonaws.lexruntimeservice#ConflictException": return [3 /*break*/, 6];\n                    case "DependencyFailedException": return [3 /*break*/, 8];\n                    case "com.amazonaws.lexruntimeservice#DependencyFailedException": return [3 /*break*/, 8];\n                    case "InternalFailureException": return [3 /*break*/, 10];\n                    case "com.amazonaws.lexruntimeservice#InternalFailureException": return [3 /*break*/, 10];\n                    case "LimitExceededException": return [3 /*break*/, 12];\n                    case "com.amazonaws.lexruntimeservice#LimitExceededException": return [3 /*break*/, 12];\n                    case "NotAcceptableException": return [3 /*break*/, 14];\n                    case "com.amazonaws.lexruntimeservice#NotAcceptableException": return [3 /*break*/, 14];\n                    case "NotFoundException": return [3 /*break*/, 16];\n                    case "com.amazonaws.lexruntimeservice#NotFoundException": return [3 /*break*/, 16];\n                }\n                return [3 /*break*/, 18];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 18:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: "" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: "client", $metadata: deserializeMetadata(output) });\n                _m.label = 19;\n            case 19:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BadGatewayExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "BadGatewayException",\n            $fault: "server",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1BadRequestExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "BadRequestException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ConflictExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "ConflictException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1DependencyFailedExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "DependencyFailedException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1InternalFailureExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "InternalFailureException",\n            $fault: "server",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1LimitExceededExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "LimitExceededException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n            retryAfterSeconds: undefined,\n        };\n        if (parsedOutput.headers["retry-after"] !== undefined) {\n            contents.retryAfterSeconds = parsedOutput.headers["retry-after"];\n        }\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1LoopDetectedExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "LoopDetectedException",\n            $fault: "server",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1NotAcceptableExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "NotAcceptableException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1NotFoundExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "NotFoundException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1RequestTimeoutExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "RequestTimeoutException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse = function (parsedOutput, context) { return tslib_es6_awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return tslib_es6_generator(this, function (_a) {\n        contents = {\n            name: "UnsupportedMediaTypeException",\n            $fault: "client",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar serializeAws_restJson1ActiveContext = function (input, context) {\n    return tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({}, (input.name !== undefined && input.name !== null && { name: input.name })), (input.parameters !== undefined &&\n        input.parameters !== null && {\n        parameters: serializeAws_restJson1ActiveContextParametersMap(input.parameters, context),\n    })), (input.timeToLive !== undefined &&\n        input.timeToLive !== null && {\n        timeToLive: serializeAws_restJson1ActiveContextTimeToLive(input.timeToLive, context),\n    }));\n};\nvar serializeAws_restJson1ActiveContextParametersMap = function (input, context) {\n    return Object.entries(input).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return tslib_es6_assign(tslib_es6_assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar serializeAws_restJson1ActiveContextsList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1ActiveContext(entry, context);\n    });\n};\nvar serializeAws_restJson1ActiveContextTimeToLive = function (input, context) {\n    return tslib_es6_assign(tslib_es6_assign({}, (input.timeToLiveInSeconds !== undefined &&\n        input.timeToLiveInSeconds !== null && { timeToLiveInSeconds: input.timeToLiveInSeconds })), (input.turnsToLive !== undefined && input.turnsToLive !== null && { turnsToLive: input.turnsToLive }));\n};\nvar serializeAws_restJson1DialogAction = function (input, context) {\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.fulfillmentState !== undefined &&\n        input.fulfillmentState !== null && { fulfillmentState: input.fulfillmentState })), (input.intentName !== undefined && input.intentName !== null && { intentName: input.intentName })), (input.message !== undefined && input.message !== null && { message: input.message })), (input.messageFormat !== undefined && input.messageFormat !== null && { messageFormat: input.messageFormat })), (input.slotToElicit !== undefined && input.slotToElicit !== null && { slotToElicit: input.slotToElicit })), (input.slots !== undefined &&\n        input.slots !== null && { slots: serializeAws_restJson1StringMap(input.slots, context) })), (input.type !== undefined && input.type !== null && { type: input.type }));\n};\nvar serializeAws_restJson1IntentSummary = function (input, context) {\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.checkpointLabel !== undefined &&\n        input.checkpointLabel !== null && { checkpointLabel: input.checkpointLabel })), (input.confirmationStatus !== undefined &&\n        input.confirmationStatus !== null && { confirmationStatus: input.confirmationStatus })), (input.dialogActionType !== undefined &&\n        input.dialogActionType !== null && { dialogActionType: input.dialogActionType })), (input.fulfillmentState !== undefined &&\n        input.fulfillmentState !== null && { fulfillmentState: input.fulfillmentState })), (input.intentName !== undefined && input.intentName !== null && { intentName: input.intentName })), (input.slotToElicit !== undefined && input.slotToElicit !== null && { slotToElicit: input.slotToElicit })), (input.slots !== undefined &&\n        input.slots !== null && { slots: serializeAws_restJson1StringMap(input.slots, context) }));\n};\nvar serializeAws_restJson1IntentSummaryList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return serializeAws_restJson1IntentSummary(entry, context);\n    });\n};\nvar serializeAws_restJson1StringMap = function (input, context) {\n    return Object.entries(input).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return tslib_es6_assign(tslib_es6_assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar deserializeAws_restJson1ActiveContext = function (output, context) {\n    return {\n        name: output.name !== undefined && output.name !== null ? output.name : undefined,\n        parameters: output.parameters !== undefined && output.parameters !== null\n            ? deserializeAws_restJson1ActiveContextParametersMap(output.parameters, context)\n            : undefined,\n        timeToLive: output.timeToLive !== undefined && output.timeToLive !== null\n            ? deserializeAws_restJson1ActiveContextTimeToLive(output.timeToLive, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1ActiveContextParametersMap = function (output, context) {\n    return Object.entries(output).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return tslib_es6_assign(tslib_es6_assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar deserializeAws_restJson1ActiveContextsList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1ActiveContext(entry, context);\n    });\n};\nvar deserializeAws_restJson1ActiveContextTimeToLive = function (output, context) {\n    return {\n        timeToLiveInSeconds: output.timeToLiveInSeconds !== undefined && output.timeToLiveInSeconds !== null\n            ? output.timeToLiveInSeconds\n            : undefined,\n        turnsToLive: output.turnsToLive !== undefined && output.turnsToLive !== null ? output.turnsToLive : undefined,\n    };\n};\nvar deserializeAws_restJson1Button = function (output, context) {\n    return {\n        text: output.text !== undefined && output.text !== null ? output.text : undefined,\n        value: output.value !== undefined && output.value !== null ? output.value : undefined,\n    };\n};\nvar deserializeAws_restJson1DialogAction = function (output, context) {\n    return {\n        fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        message: output.message !== undefined && output.message !== null ? output.message : undefined,\n        messageFormat: output.messageFormat !== undefined && output.messageFormat !== null ? output.messageFormat : undefined,\n        slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n        type: output.type !== undefined && output.type !== null ? output.type : undefined,\n    };\n};\nvar deserializeAws_restJson1GenericAttachment = function (output, context) {\n    return {\n        attachmentLinkUrl: output.attachmentLinkUrl !== undefined && output.attachmentLinkUrl !== null\n            ? output.attachmentLinkUrl\n            : undefined,\n        buttons: output.buttons !== undefined && output.buttons !== null\n            ? deserializeAws_restJson1listOfButtons(output.buttons, context)\n            : undefined,\n        imageUrl: output.imageUrl !== undefined && output.imageUrl !== null ? output.imageUrl : undefined,\n        subTitle: output.subTitle !== undefined && output.subTitle !== null ? output.subTitle : undefined,\n        title: output.title !== undefined && output.title !== null ? output.title : undefined,\n    };\n};\nvar deserializeAws_restJson1genericAttachmentList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1GenericAttachment(entry, context);\n    });\n};\nvar deserializeAws_restJson1IntentConfidence = function (output, context) {\n    return {\n        score: output.score !== undefined && output.score !== null ? output.score : undefined,\n    };\n};\nvar deserializeAws_restJson1IntentList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1PredictedIntent(entry, context);\n    });\n};\nvar deserializeAws_restJson1IntentSummary = function (output, context) {\n    return {\n        checkpointLabel: output.checkpointLabel !== undefined && output.checkpointLabel !== null ? output.checkpointLabel : undefined,\n        confirmationStatus: output.confirmationStatus !== undefined && output.confirmationStatus !== null\n            ? output.confirmationStatus\n            : undefined,\n        dialogActionType: output.dialogActionType !== undefined && output.dialogActionType !== null ? output.dialogActionType : undefined,\n        fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1IntentSummaryList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1IntentSummary(entry, context);\n    });\n};\nvar deserializeAws_restJson1listOfButtons = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restJson1Button(entry, context);\n    });\n};\nvar deserializeAws_restJson1PredictedIntent = function (output, context) {\n    return {\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        nluIntentConfidence: output.nluIntentConfidence !== undefined && output.nluIntentConfidence !== null\n            ? deserializeAws_restJson1IntentConfidence(output.nluIntentConfidence, context)\n            : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1ResponseCard = function (output, context) {\n    return {\n        contentType: output.contentType !== undefined && output.contentType !== null ? output.contentType : undefined,\n        genericAttachments: output.genericAttachments !== undefined && output.genericAttachments !== null\n            ? deserializeAws_restJson1genericAttachmentList(output.genericAttachments, context)\n            : undefined,\n        version: output.version !== undefined && output.version !== null ? output.version : undefined,\n    };\n};\nvar deserializeAws_restJson1SentimentResponse = function (output, context) {\n    return {\n        sentimentLabel: output.sentimentLabel !== undefined && output.sentimentLabel !== null ? output.sentimentLabel : undefined,\n        sentimentScore: output.sentimentScore !== undefined && output.sentimentScore !== null ? output.sentimentScore : undefined,\n    };\n};\nvar deserializeAws_restJson1StringMap = function (output, context) {\n    return Object.entries(output).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        if (value === null) {\n            return acc;\n        }\n        return tslib_es6_assign(tslib_es6_assign({}, acc), (_b = {}, _b[key] = value, _b));\n    }, {});\n};\nvar deserializeMetadata = function (output) {\n    var _a;\n    return ({\n        httpStatusCode: output.statusCode,\n        requestId: (_a = output.headers["x-amzn-requestid"]) !== null && _a !== void 0 ? _a : output.headers["x-amzn-request-id"],\n        extendedRequestId: output.headers["x-amz-id-2"],\n        cfId: output.headers["x-amz-cf-id"],\n    });\n};\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody === void 0) { streamBody = new Uint8Array(); }\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) { return context.utf8Encoder(body); });\n};\nvar isSerializableHeaderValue = function (value) {\n    return value !== undefined &&\n        value !== null &&\n        value !== "" &&\n        (!Object.getOwnPropertyNames(value).includes("length") || value.length != 0) &&\n        (!Object.getOwnPropertyNames(value).includes("size") || value.size != 0);\n};\nvar parseBody = function (streamBody, context) {\n    return collectBodyString(streamBody, context).then(function (encoded) {\n        if (encoded.length) {\n            return JSON.parse(encoded);\n        }\n        return {};\n    });\n};\n/**\n * Load an error code for the aws.rest-json-1.1 protocol.\n */\nvar loadRestJsonErrorCode = function (output, data) {\n    var findKey = function (object, key) { return Object.keys(object).find(function (k) { return k.toLowerCase() === key.toLowerCase(); }); };\n    var sanitizeErrorCode = function (rawValue) {\n        var cleanValue = rawValue;\n        if (cleanValue.indexOf(":") >= 0) {\n            cleanValue = cleanValue.split(":")[0];\n        }\n        if (cleanValue.indexOf("#") >= 0) {\n            cleanValue = cleanValue.split("#")[1];\n        }\n        return cleanValue;\n    };\n    var headerKey = findKey(output.headers, "x-amzn-errortype");\n    if (headerKey !== undefined) {\n        return sanitizeErrorCode(output.headers[headerKey]);\n    }\n    if (data.code !== undefined) {\n        return sanitizeErrorCode(data.code);\n    }\n    if (data["__type"] !== undefined) {\n        return sanitizeErrorCode(data["__type"]);\n    }\n    return "";\n};\n//# sourceMappingURL=Aws_restJson1.js.map\n// EXTERNAL MODULE: ../node_modules/@aws-sdk/middleware-serde/dist/es/index.js + 3 modules\nvar middleware_serde_dist_es = __webpack_require__(94329);\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/commands/PostTextCommand.js\n\n\n\n\n\n/**\n * <p>Sends user input to Amazon Lex. Client applications can use this API to send requests to\n *       Amazon Lex at runtime. Amazon Lex then interprets the user input using the machine learning model it\n *       built for the bot. </p>\n *          <p> In response, Amazon Lex returns the next <code>message</code> to convey to the user an\n *       optional <code>responseCard</code> to display. Consider the following example messages: </p>\n *          <ul>\n *             <li>\n *                <p> For a user input "I would like a pizza", Amazon Lex might return a response with a\n *           message eliciting slot data (for example, PizzaSize): "What size pizza would you like?"\n *         </p>\n *             </li>\n *             <li>\n *                <p> After the user provides all of the pizza order information, Amazon Lex might return a\n *           response with a message to obtain user confirmation "Proceed with the pizza order?".\n *         </p>\n *             </li>\n *             <li>\n *                <p> After the user replies to a confirmation prompt with a "yes", Amazon Lex might return\n *           a conclusion statement: "Thank you, your cheese pizza has been ordered.". </p>\n *             </li>\n *          </ul>\n *\n *          <p> Not all Amazon Lex messages require a user response. For example, a conclusion statement\n *       does not require a response. Some messages require only a "yes" or "no" user response. In\n *       addition to the <code>message</code>, Amazon Lex provides additional context about the message\n *       in the response that you might use to enhance client behavior, for example, to display the\n *       appropriate client user interface. These are the <code>slotToElicit</code>,\n *         <code>dialogState</code>, <code>intentName</code>, and <code>slots</code> fields in the\n *       response. Consider the following examples: </p>\n *\n *          <ul>\n *             <li>\n *                <p>If the message is to elicit slot data, Amazon Lex returns the following context\n *           information:</p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <code>dialogState</code> set to ElicitSlot </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>intentName</code> set to the intent name in the current context </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>slotToElicit</code> set to the slot name for which the <code>message</code> is\n *               eliciting information </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>slots</code> set to a map of slots, configured for the intent, with currently\n *               known values </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p> If the message is a confirmation prompt, the <code>dialogState</code> is set to\n *           ConfirmIntent and <code>SlotToElicit</code> is set to null. </p>\n *             </li>\n *             <li>\n *                <p>If the message is a clarification prompt (configured for the intent) that indicates\n *           that user intent is not understood, the <code>dialogState</code> is set to ElicitIntent\n *           and <code>slotToElicit</code> is set to null. </p>\n *             </li>\n *          </ul>\n *\n *          <p> In addition, Amazon Lex also returns your application-specific\n *         <code>sessionAttributes</code>. For more information, see <a href="https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html">Managing Conversation Context</a>. </p>\n */\nvar PostTextCommand = /** @class */ (function (_super) {\n    __extends(PostTextCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PostTextCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    PostTextCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use((0,middleware_serde_dist_es/* getSerdePlugin */.p2)(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = "LexRuntimeServiceClient";\n        var commandName = "PostTextCommand";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: PostTextRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PostTextResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PostTextCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1PostTextCommand(input, context);\n    };\n    PostTextCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1PostTextCommand(output, context);\n    };\n    return PostTextCommand;\n}(smithy_client_dist_es/* Command */.mY));\n\n//# sourceMappingURL=PostTextCommand.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-sdk/client-lex-runtime-service/dist/es/commands/PostContentCommand.js\n\n\n\n\n\n/**\n * <p> Sends user input (text or speech) to Amazon Lex. Clients use this API to send text and audio\n *       requests to Amazon Lex at runtime. Amazon Lex interprets the user input using the machine learning model\n *       that it built for the bot. </p>\n *          <p>The <code>PostContent</code> operation supports audio input at 8kHz and 16kHz. You can use\n *       8kHz audio to achieve higher speech recognition accuracy in telephone audio applications. </p>\n *          <p> In response, Amazon Lex returns the next message to convey to the user. Consider the following\n *       example messages: </p>\n *          <ul>\n *             <li>\n *                <p> For a user input "I would like a pizza," Amazon Lex might return a response with a message\n *           eliciting slot data (for example, <code>PizzaSize</code>): "What size pizza would you\n *           like?". </p>\n *             </li>\n *             <li>\n *                <p> After the user provides all of the pizza order information, Amazon Lex might return a\n *           response with a message to get user confirmation: "Order the pizza?". </p>\n *             </li>\n *             <li>\n *                <p> After the user replies "Yes" to the confirmation prompt, Amazon Lex might return a\n *           conclusion statement: "Thank you, your cheese pizza has been ordered.". </p>\n *             </li>\n *          </ul>\n *          <p> Not all Amazon Lex messages require a response from the user. For example, conclusion\n *       statements do not require a response. Some messages require only a yes or no response. In\n *       addition to the <code>message</code>, Amazon Lex provides additional context about the message in\n *       the response that you can use to enhance client behavior, such as displaying the appropriate\n *       client user interface. Consider the following examples: </p>\n *          <ul>\n *             <li>\n *                <p> If the message is to elicit slot data, Amazon Lex returns the following context\n *           information: </p>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-dialog-state</code> header set to <code>ElicitSlot</code>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-intent-name</code> header set to the intent name in the current\n *               context </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-slot-to-elicit</code> header set to the slot name for which the\n *                 <code>message</code> is eliciting information </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <code>x-amz-lex-slots</code> header set to a map of slots configured for the intent\n *               with their current values </p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p> If the message is a confirmation prompt, the <code>x-amz-lex-dialog-state</code>\n *           header is set to <code>Confirmation</code> and the <code>x-amz-lex-slot-to-elicit</code>\n *           header is omitted. </p>\n *             </li>\n *             <li>\n *                <p> If the message is a clarification prompt configured for the intent, indicating that\n *           the user intent is not understood, the <code>x-amz-dialog-state</code> header is set to\n *             <code>ElicitIntent</code> and the <code>x-amz-slot-to-elicit</code> header is omitted.\n *         </p>\n *             </li>\n *          </ul>\n *          <p> In addition, Amazon Lex also returns your application-specific <code>sessionAttributes</code>.\n *       For more information, see <a href="https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html">Managing Conversation Context</a>. </p>\n */\nvar PostContentCommand = /** @class */ (function (_super) {\n    __extends(PostContentCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PostContentCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    PostContentCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use((0,middleware_serde_dist_es/* getSerdePlugin */.p2)(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = "LexRuntimeServiceClient";\n        var commandName = "PostContentCommand";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: PostContentRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PostContentResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PostContentCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1PostContentCommand(input, context);\n    };\n    PostContentCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1PostContentCommand(output, context);\n    };\n    return PostContentCommand;\n}(smithy_client_dist_es/* Command */.mY));\n\n//# sourceMappingURL=PostContentCommand.js.map\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/core/lib-esm/Credentials.js + 23 modules\nvar Credentials = __webpack_require__(12466);\n// EXTERNAL MODULE: ../node_modules/@aws-amplify/core/lib-esm/Platform/index.js + 1 modules\nvar Platform = __webpack_require__(87605);\n;// CONCATENATED MODULE: ../node_modules/@aws-amplify/interactions/lib-esm/Providers/AWSLexProviderHelper/convert.js\nvar convert = function (stream) {\n    if (stream instanceof Blob || stream instanceof ReadableStream) {\n        return new Response(stream)\n            .arrayBuffer()\n            .then(function (buffer) { return new Uint8Array(buffer); });\n    }\n    else {\n        throw new Error(\'Readable is not supported.\');\n    }\n};\n//# sourceMappingURL=convert.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-amplify/interactions/lib-esm/Providers/AWSLexProvider.js\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar AWSLexProvider_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AWSLexProvider_assign = (undefined && undefined.__assign) || function () {\n    AWSLexProvider_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return AWSLexProvider_assign.apply(this, arguments);\n};\nvar AWSLexProvider_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar AWSLexProvider_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar AWSLexProvider_logger = new ConsoleLogger/* ConsoleLogger */.k(\'AWSLexProvider\');\nvar AWSLexProvider = /** @class */ (function (_super) {\n    AWSLexProvider_extends(AWSLexProvider, _super);\n    function AWSLexProvider(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, options) || this;\n        _this._botsCompleteCallback = {};\n        return _this;\n    }\n    AWSLexProvider.prototype.getProviderName = function () {\n        return \'AWSLexProvider\';\n    };\n    AWSLexProvider.prototype.reportBotStatus = function (data, botname) {\n        var _this = this;\n        // Check if state is fulfilled to resolve onFullfilment promise\n        AWSLexProvider_logger.debug(\'postContent state\', data.dialogState);\n        if (data.dialogState === \'ReadyForFulfillment\' ||\n            data.dialogState === \'Fulfilled\') {\n            if (typeof this._botsCompleteCallback[botname] === \'function\') {\n                setTimeout(function () {\n                    return _this._botsCompleteCallback[botname](null, { slots: data.slots });\n                }, 0);\n            }\n            if (this._config &&\n                typeof this._config[botname].onComplete === \'function\') {\n                setTimeout(function () { return _this._config[botname].onComplete(null, { slots: data.slots }); }, 0);\n            }\n        }\n        if (data.dialogState === \'Failed\') {\n            if (typeof this._botsCompleteCallback[botname] === \'function\') {\n                setTimeout(function () { return _this._botsCompleteCallback[botname](\'Bot conversation failed\'); }, 0);\n            }\n            if (this._config &&\n                typeof this._config[botname].onComplete === \'function\') {\n                setTimeout(function () { return _this._config[botname].onComplete(\'Bot conversation failed\'); }, 0);\n            }\n        }\n    };\n    AWSLexProvider.prototype.sendMessage = function (botname, message) {\n        return AWSLexProvider_awaiter(this, void 0, void 0, function () {\n            var credentials, params, postTextCommand, data, err_1, content, messageType, postContentCommand, data, audioArray, err_2;\n            return AWSLexProvider_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._config[botname]) {\n                            return [2 /*return*/, Promise.reject(\'Bot \' + botname + \' does not exist\')];\n                        }\n                        return [4 /*yield*/, Credentials/* Credentials.get */.cN.get()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials) {\n                            return [2 /*return*/, Promise.reject(\'No credentials\')];\n                        }\n                        this.lexRuntimeServiceClient = new LexRuntimeServiceClient({\n                            region: this._config[botname].region,\n                            credentials: credentials,\n                            customUserAgent: (0,Platform/* getAmplifyUserAgent */.Zm)(),\n                        });\n                        if (!(typeof message === \'string\')) return [3 /*break*/, 6];\n                        params = {\n                            botAlias: this._config[botname].alias,\n                            botName: botname,\n                            inputText: message,\n                            userId: credentials.identityId,\n                        };\n                        AWSLexProvider_logger.debug(\'postText to lex\', message);\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        postTextCommand = new PostTextCommand(params);\n                        return [4 /*yield*/, this.lexRuntimeServiceClient.send(postTextCommand)];\n                    case 3:\n                        data = _a.sent();\n                        this.reportBotStatus(data, botname);\n                        return [2 /*return*/, data];\n                    case 4:\n                        err_1 = _a.sent();\n                        return [2 /*return*/, Promise.reject(err_1)];\n                    case 5: return [3 /*break*/, 11];\n                    case 6:\n                        content = message.content, messageType = message.options.messageType;\n                        if (messageType === \'voice\') {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                contentType: \'audio/x-l16; sample-rate=16000\',\n                                inputStream: content,\n                                userId: credentials.identityId,\n                                accept: \'audio/mpeg\',\n                            };\n                        }\n                        else {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                contentType: \'text/plain; charset=utf-8\',\n                                inputStream: content,\n                                userId: credentials.identityId,\n                                accept: \'audio/mpeg\',\n                            };\n                        }\n                        AWSLexProvider_logger.debug(\'postContent to lex\', message);\n                        _a.label = 7;\n                    case 7:\n                        _a.trys.push([7, 10, , 11]);\n                        postContentCommand = new PostContentCommand(params);\n                        return [4 /*yield*/, this.lexRuntimeServiceClient.send(postContentCommand)];\n                    case 8:\n                        data = _a.sent();\n                        return [4 /*yield*/, convert(data.audioStream)];\n                    case 9:\n                        audioArray = _a.sent();\n                        this.reportBotStatus(data, botname);\n                        return [2 /*return*/, AWSLexProvider_assign(AWSLexProvider_assign({}, data), { audioStream: audioArray })];\n                    case 10:\n                        err_2 = _a.sent();\n                        return [2 /*return*/, Promise.reject(err_2)];\n                    case 11: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSLexProvider.prototype.onComplete = function (botname, callback) {\n        if (!this._config[botname]) {\n            throw new ErrorEvent(\'Bot \' + botname + \' does not exist\');\n        }\n        this._botsCompleteCallback[botname] = callback;\n    };\n    return AWSLexProvider;\n}(AbstractInteractionsProvider));\n\n//# sourceMappingURL=AWSLexProvider.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-amplify/interactions/lib-esm/Interactions.js\nvar Interactions_assign = (undefined && undefined.__assign) || function () {\n    Interactions_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return Interactions_assign.apply(this, arguments);\n};\nvar Interactions_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar Interactions_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\nvar Interactions_logger = new ConsoleLogger/* ConsoleLogger */.k(\'Interactions\');\nvar InteractionsClass = /** @class */ (function () {\n    /**\n     * Initialize PubSub with AWS configurations\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     */\n    function InteractionsClass(options) {\n        this._options = options;\n        Interactions_logger.debug(\'Interactions Options\', this._options);\n        this._pluggables = {};\n    }\n    InteractionsClass.prototype.getModuleName = function () {\n        return \'Interactions\';\n    };\n    /**\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     * @return {Object} - The current configuration\n     */\n    InteractionsClass.prototype.configure = function (options) {\n        var _this = this;\n        var opt = options ? options.Interactions || options : {};\n        Interactions_logger.debug(\'configure Interactions\', { opt: opt });\n        this._options = Interactions_assign(Interactions_assign({ bots: {} }, opt), opt.Interactions);\n        var aws_bots_config = this._options.aws_bots_config;\n        var bots_config = this._options.bots;\n        if (!Object.keys(bots_config).length && aws_bots_config) {\n            // Convert aws_bots_config to bots object\n            if (Array.isArray(aws_bots_config)) {\n                aws_bots_config.forEach(function (bot) {\n                    _this._options.bots[bot.name] = bot;\n                });\n            }\n        }\n        // Check if AWSLex provider is already on pluggables\n        if (!this._pluggables.AWSLexProvider &&\n            bots_config &&\n            Object.keys(bots_config)\n                .map(function (key) { return bots_config[key]; })\n                .find(function (bot) { return !bot.providerName || bot.providerName === \'AWSLexProvider\'; })) {\n            this._pluggables.AWSLexProvider = new AWSLexProvider();\n        }\n        Object.keys(this._pluggables).map(function (key) {\n            _this._pluggables[key].configure(_this._options.bots);\n        });\n        return this._options;\n    };\n    InteractionsClass.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === \'Interactions\') {\n            if (!this._pluggables[pluggable.getProviderName()]) {\n                pluggable.configure(this._options.bots);\n                this._pluggables[pluggable.getProviderName()] = pluggable;\n                return;\n            }\n            else {\n                throw new Error(\'Bot \' + pluggable.getProviderName() + \' already plugged\');\n            }\n        }\n    };\n    InteractionsClass.prototype.send = function (botname, message) {\n        return Interactions_awaiter(this, void 0, void 0, function () {\n            var botProvider;\n            return Interactions_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._options.bots || !this._options.bots[botname]) {\n                            throw new Error(\'Bot \' + botname + \' does not exist\');\n                        }\n                        botProvider = this._options.bots[botname].providerName || \'AWSLexProvider\';\n                        if (!this._pluggables[botProvider]) {\n                            throw new Error(\'Bot \' +\n                                botProvider +\n                                \' does not have valid pluggin did you try addPluggable first?\');\n                        }\n                        return [4 /*yield*/, this._pluggables[botProvider].sendMessage(botname, message)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    InteractionsClass.prototype.onComplete = function (botname, callback) {\n        if (!this._options.bots || !this._options.bots[botname]) {\n            throw new Error(\'Bot \' + botname + \' does not exist\');\n        }\n        var botProvider = this._options.bots[botname].providerName || \'AWSLexProvider\';\n        if (!this._pluggables[botProvider]) {\n            throw new Error(\'Bot \' +\n                botProvider +\n                \' does not have valid pluggin did you try addPluggable first?\');\n        }\n        this._pluggables[botProvider].onComplete(botname, callback);\n    };\n    return InteractionsClass;\n}());\n\nvar Interactions = new InteractionsClass(null);\nAmplify/* Amplify.register */.dQ.register(Interactions);\n//# sourceMappingURL=Interactions.js.map\n;// CONCATENATED MODULE: ../node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-chatbot.entry.js\nvar amplify_chatbot_entry_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar amplify_chatbot_entry_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar amplify_chatbot_entry_spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n\n\n\n\n\n\n// AudioRecorder settings\nvar RECORDER_EXPORT_MIME_TYPE = \'application/octet-stream\';\nvar DEFAULT_EXPORT_SAMPLE_RATE = 16000;\nvar FFT_SIZE = 2048; // window size in samples for Fast Fourier Transform (FFT)\nvar FFT_MAX_DECIBELS = -10; // maximum power value in the scaling range for the FFT analysis data\nvar FFT_MIN_DECIBELS = -90; // minimum power value in the scaling range for the FFT analysis data\nvar FFT_SMOOTHING_TIME_CONSTANT = 0.85; // averaging constant with the last analysis frame\n/**\n * Merges multiple buffers into one.\n */\nvar mergeBuffers = function (bufferArray, recLength) {\n    var result = new Float32Array(recLength);\n    var offset = 0;\n    for (var i = 0; i < bufferArray.length; i++) {\n        result.set(bufferArray[i], offset);\n        offset += bufferArray[i].length;\n    }\n    return result;\n};\n/**\n * Downsamples audio to desired export sample rate.\n */\nvar downsampleBuffer = function (buffer, recordSampleRate, exportSampleRate) {\n    if (exportSampleRate === recordSampleRate) {\n        return buffer;\n    }\n    var sampleRateRatio = recordSampleRate / exportSampleRate;\n    var newLength = Math.round(buffer.length / sampleRateRatio);\n    var result = new Float32Array(newLength);\n    var offsetResult = 0;\n    var offsetBuffer = 0;\n    while (offsetResult < result.length) {\n        var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n        var accum = 0, count = 0;\n        for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n            accum += buffer[i];\n            count++;\n        }\n        result[offsetResult] = accum / count;\n        offsetResult++;\n        offsetBuffer = nextOffsetBuffer;\n    }\n    return result;\n};\n/**\n * converts raw audio values to 16 bit pcm.\n */\nvar floatTo16BitPCM = function (output, offset, input) {\n    var byteOffset = offset;\n    for (var i = 0; i < input.length; i++, byteOffset += 2) {\n        var s = Math.max(-1, Math.min(1, input[i]));\n        output.setInt16(byteOffset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n};\n/**\n * Write given strings in big-endian order.\n */\nvar writeString = function (view, offset, string) {\n    for (var i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n    }\n};\n/**\n * Encodes raw pcm audio into a wav file.\n */\nvar encodeWAV = function (samples, exportSampleRate) {\n    /**\n     * WAV file consists of three parts: RIFF header, WAVE subchunk, and data subchunk. We precompute the size of them.\n     */\n    var audioSize = samples.length * 2; // We use 16-bit samples, so we have (2 * sampleLength) bytes.\n    var fmtSize = 24; // Byte size of the fmt subchunk: 24 bytes that the audio information that we\'ll set below.\n    var dataSize = 8 + audioSize; // Byte size of the data subchunk: raw sound data plus 8 bytes for the subchunk descriptions.\n    var totalByteSize = 12 + fmtSize + dataSize; // Byte size of the whole file, including the chunk header / descriptor.\n    // create DataView object to write byte values into\n    var buffer = new ArrayBuffer(totalByteSize); // buffer to write the chunk values in.\n    var view = new DataView(buffer);\n    /**\n     * Start writing the .wav file. We write top to bottom, so byte offset (first numeric argument) increases strictly.\n     */\n    // RIFF header\n    writeString(view, 0, \'RIFF\'); // At offset 0, write the letters "RIFF"\n    view.setUint32(4, fmtSize + dataSize, true); // At offset 4, write the size of fmt and data chunk size combined.\n    writeString(view, 8, \'WAVE\'); // At offset 8, write the format type "WAVE"\n    // fmt subchunk\n    writeString(view, 12, \'fmt \'); //chunkdId \'fmt \'\n    view.setUint32(16, fmtSize - 8, true); // fmt subchunk size below this value. We set 8 bytes already, so subtract 8 bytes from fmtSize.\n    view.setUint16(20, 1, true); // Audio format code, which is 1 for PCM.\n    view.setUint16(22, 1, true); // Number of audio channels. We use mono, ie 1.\n    view.setUint32(24, exportSampleRate, true); // Sample rate of the audio file.\n    view.setUint32(28, exportSampleRate * 2, true); // Data rate, or # of data bytes per second. Since each sample is 2 bytes, this is 2 * sampleRate.\n    view.setUint16(32, 2, true); // block align, # of bytes per sample including all channels, ie. 2 bytes.\n    view.setUint16(34, 16, true); // bits per sample, ie. 16 bits\n    // data subchunk\n    writeString(view, 36, \'data\'); // write the chunkId \'data\'\n    view.setUint32(40, audioSize, true); // Audio byte size\n    floatTo16BitPCM(view, 44, samples); // raw pcm values then go here.\n    return view;\n};\n/**\n * Given arrays of raw pcm audio, downsamples the audio to desired sample rate and encodes it to a wav audio file.\n *\n * @param recBuffer {Float32Array[]} - 2d float array containing the recorded raw audio\n * @param recLength {number} - total length of recorded audio\n * @param recordSampleRate {number} - sample rate of the recorded audio\n * @param exportSampleRate {number} - desired sample rate of the exported file\n */\nvar exportBuffer = function (recBuffer, recLength, recordSampleRate, exportSampleRate) {\n    var mergedBuffers = mergeBuffers(recBuffer, recLength);\n    var downsampledBuffer = downsampleBuffer(mergedBuffers, recordSampleRate, exportSampleRate);\n    var encodedWav = encodeWAV(downsampledBuffer, exportSampleRate);\n    var audioBlob = new Blob([encodedWav], {\n        type: RECORDER_EXPORT_MIME_TYPE,\n    });\n    return audioBlob;\n};\nvar amplify_chatbot_entry_logger = new ConsoleLogger/* ConsoleLogger */.k(\'AudioRecorder\');\nvar AudioRecorder = /** @class */ (function () {\n    function AudioRecorder(options) {\n        // input mic stream is stored in a buffer\n        this.streamBuffer = [];\n        this.streamBufferLength = 0;\n        this.recording = false;\n        this.options = options;\n    }\n    /**\n     * This must be called first to enable audio context and request microphone access.\n     * Once access granted, it connects all the necessary audio nodes to the context so that it can begin recording or playing.\n     */\n    AudioRecorder.prototype.init = function () {\n        return amplify_chatbot_entry_awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return amplify_chatbot_entry_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(0,JS/* browserOrNode */.lC)().isBrowser) return [3 /*break*/, 2];\n                        window.AudioContext =\n                            window.AudioContext || window.webkitAudioContext;\n                        this.audioContext = new AudioContext();\n                        return [4 /*yield*/, navigator.mediaDevices\n                                .getUserMedia({ audio: true })\n                                .then(function (stream) {\n                                _this.audioSupported = true;\n                                _this.setupAudioNodes(stream);\n                            })\n                                .catch(function () {\n                                _this.audioSupported = false;\n                                return Promise.reject(\'Audio is not supported\');\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        this.audioSupported = false;\n                        return [2 /*return*/, Promise.reject(\'Audio is not supported\')];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Setup audio nodes after successful `init`.\n     */\n    AudioRecorder.prototype.setupAudioNodes = function (stream) {\n        return amplify_chatbot_entry_awaiter(this, void 0, void 0, function () {\n            var err_1, sourceNode, processorNode, analyserNode;\n            var _this = this;\n            return amplify_chatbot_entry_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.audioContext.resume()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _a.sent();\n                        amplify_chatbot_entry_logger.error(err_1);\n                        return [3 /*break*/, 3];\n                    case 3:\n                        sourceNode = this.audioContext.createMediaStreamSource(stream);\n                        processorNode = this.audioContext.createScriptProcessor(4096, 1, 1);\n                        processorNode.onaudioprocess = function (audioProcessingEvent) {\n                            if (!_this.recording)\n                                return;\n                            var stream = audioProcessingEvent.inputBuffer.getChannelData(0);\n                            _this.streamBuffer.push(new Float32Array(stream)); // set to a copy of the stream\n                            _this.streamBufferLength += stream.length;\n                            _this.analyse();\n                        };\n                        analyserNode = this.audioContext.createAnalyser();\n                        analyserNode.minDecibels = FFT_MIN_DECIBELS;\n                        analyserNode.maxDecibels = FFT_MAX_DECIBELS;\n                        analyserNode.smoothingTimeConstant = FFT_SMOOTHING_TIME_CONSTANT;\n                        sourceNode.connect(analyserNode);\n                        analyserNode.connect(processorNode);\n                        processorNode.connect(sourceNode.context.destination);\n                        this.analyserNode = analyserNode;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Start recording audio and listen for silence.\n     *\n     * @param onSilence {SilenceHandler} - called whenever silence is detected\n     * @param visualizer {Visualizer} - called with audio data on each audio process to be used for visualization.\n     */\n    AudioRecorder.prototype.startRecording = function (onSilence, visualizer) {\n        return amplify_chatbot_entry_awaiter(this, void 0, void 0, function () {\n            var context, err_2;\n            return amplify_chatbot_entry_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.recording || !this.audioSupported)\n                            return [2 /*return*/];\n                        this.onSilence = onSilence || function () { };\n                        this.visualizer = visualizer || function () { };\n                        context = this.audioContext;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, context.resume()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_2 = _a.sent();\n                        amplify_chatbot_entry_logger.error(err_2);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        this.start = Date.now();\n                        this.recording = true;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Pause recording\n     */\n    AudioRecorder.prototype.stopRecording = function () {\n        if (!this.audioSupported)\n            return;\n        this.recording = false;\n    };\n    /**\n     * Pause recording and clear audio buffer\n     */\n    AudioRecorder.prototype.clear = function () {\n        this.stopRecording();\n        this.streamBufferLength = 0;\n        this.streamBuffer = [];\n    };\n    /**\n     * Plays given audioStream with audioContext\n     *\n     * @param buffer {Uint8Array} - audioStream to be played\n     */\n    AudioRecorder.prototype.play = function (buffer) {\n        var _this = this;\n        if (!buffer || !this.audioSupported)\n            return;\n        var myBlob = new Blob([buffer]);\n        return new Promise(function (res, rej) {\n            var fileReader = new FileReader();\n            fileReader.onload = function () {\n                if (_this.playbackSource)\n                    _this.playbackSource.disconnect(); // disconnect previous playback source\n                _this.playbackSource = _this.audioContext.createBufferSource();\n                var successCallback = function (buf) {\n                    _this.playbackSource.buffer = buf;\n                    _this.playbackSource.connect(_this.audioContext.destination);\n                    _this.playbackSource.onended = function () {\n                        return res();\n                    };\n                    _this.playbackSource.start(0);\n                };\n                var errorCallback = function (err) {\n                    return rej(err);\n                };\n                _this.audioContext.decodeAudioData(fileReader.result, successCallback, errorCallback);\n            };\n            fileReader.onerror = function () { return rej(); };\n            fileReader.readAsArrayBuffer(myBlob);\n        });\n    };\n    /**\n     * Stops playing audio if there\'s a playback source connected.\n     */\n    AudioRecorder.prototype.stop = function () {\n        if (this.playbackSource) {\n            this.playbackSource.stop();\n        }\n    };\n    /**\n     * Called after each audioProcess. Check for silence and give fft time domain data to visualizer.\n     */\n    AudioRecorder.prototype.analyse = function () {\n        if (!this.audioSupported)\n            return;\n        var analyser = this.analyserNode;\n        analyser.fftSize = FFT_SIZE;\n        var bufferLength = analyser.fftSize;\n        var dataArray = new Uint8Array(bufferLength);\n        var amplitude = this.options.amplitude;\n        var time = this.options.time;\n        analyser.getByteTimeDomainData(dataArray);\n        this.visualizer(dataArray, bufferLength);\n        for (var i = 0; i < bufferLength; i++) {\n            // Normalize between -1 and 1.\n            var curr_value_time = dataArray[i] / 128 - 1.0;\n            if (curr_value_time > amplitude || curr_value_time < -1 * amplitude) {\n                this.start = Date.now();\n            }\n        }\n        var newtime = Date.now();\n        var elapsedTime = newtime - this.start;\n        if (elapsedTime > time) {\n            this.onSilence();\n        }\n    };\n    /**\n     * Encodes recorded buffer to a wav file and exports it to a blob.\n     *\n     * @param exportSampleRate {number} - desired sample rate of the exported buffer\n     */\n    AudioRecorder.prototype.exportWAV = function (exportSampleRate) {\n        if (exportSampleRate === void 0) { exportSampleRate = DEFAULT_EXPORT_SAMPLE_RATE; }\n        return amplify_chatbot_entry_awaiter(this, void 0, void 0, function () {\n            var recordSampleRate, blob;\n            return amplify_chatbot_entry_generator(this, function (_a) {\n                if (!this.audioSupported)\n                    return [2 /*return*/];\n                recordSampleRate = this.audioContext.sampleRate;\n                blob = exportBuffer(this.streamBuffer, this.streamBufferLength, recordSampleRate, exportSampleRate);\n                this.clear();\n                return [2 /*return*/, blob];\n            });\n        });\n    };\n    return AudioRecorder;\n}());\nvar visualize = function (dataArray, bufferLength, canvas) {\n    if (!canvas)\n        return;\n    if (!(0,JS/* browserOrNode */.lC)().isBrowser)\n        throw new Error(\'Visualization is not supported on non-browsers.\');\n    var _a = canvas.getBoundingClientRect(), width = _a.width, height = _a.height;\n    // need to update the default canvas width and height\n    canvas.width = width;\n    canvas.height = height;\n    var canvasCtx = canvas.getContext(\'2d\');\n    canvasCtx.fillStyle = \'white\';\n    canvasCtx.clearRect(0, 0, width, height);\n    var draw = function () {\n        canvasCtx.fillRect(0, 0, width, height);\n        canvasCtx.lineWidth = 1;\n        var color = getComputedStyle(document.documentElement).getPropertyValue(\'--amplify-primary-color\');\n        canvasCtx.strokeStyle = !color || color === \'\' ? \'#ff9900\' : color; // TODO: try separate css variable\n        canvasCtx.beginPath();\n        var sliceWidth = (width * 1.0) / bufferLength;\n        var x = 0;\n        for (var i = 0; i < bufferLength || i % 3 === 0; i++) {\n            var value = dataArray[i] / 128.0;\n            var y = (value * height) / 2;\n            if (i === 0) {\n                canvasCtx.moveTo(x, y);\n            }\n            else {\n                canvasCtx.lineTo(x, y);\n            }\n            x += sliceWidth;\n        }\n        canvasCtx.lineTo(canvas.width, canvas.height / 2);\n        canvasCtx.stroke();\n    };\n    // Register our draw function with requestAnimationFrame.\n    requestAnimationFrame(draw);\n};\nvar amplifyChatbotCss = ".bot .dot{background-color:var(--bot-dot-color)}.user .dot{background-color:var(--user-dot-color)}.dot-flashing{width:2.625rem}.dot-flashing .dot{display:inline-block;width:0.625rem;height:0.625rem;border-radius:10rem;opacity:0.65}.dot-flashing .left{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:0s;animation-delay:0s}.dot-flashing .middle{margin-left:0.375rem;margin-right:0.375rem;-webkit-animation:dot-flashing 1s infinite linear alternate;animation:dot-flashing 1s infinite linear alternate;-webkit-animation-delay:0.5s;animation-delay:0.5s}.dot-flashing .right{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}@keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}:host{--width:28.75rem;--height:37.5rem;--header-color:var(--amplify-secondary-color);--header-size:var(--amplify-text-lg);--bot-background-color:rgb(230, 230, 230);--bot-text-color:black;--bot-dot-color:var(--bot-text-color);--user-background-color:var(--amplify-blue);--user-text-color:var(--amplify-white);--user-dot-color:var(--user-text-color)}.amplify-chatbot{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-color);border-radius:0.375rem;-webkit-box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:var(--amplify-font-family);margin-bottom:1rem;width:100%;height:var(--height);max-width:var(--width)}@media (min-width: 672px){.amplify-chatbot{width:var(--width)}}.header{padding:1.25rem 0.375rem 1.25rem 0.375rem;color:var(--header-color);font-size:var(--header-size);font-weight:bold;text-align:center;word-wrap:break-word}.body{border-top:0.0625rem solid rgba(0, 0, 0, 0.05);padding:1.5rem 1rem 0 1rem;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.bubble{max-width:100%;padding:0.8em 1.4em;text-align:left;word-wrap:break-word;margin-bottom:0.625rem}.bot{margin-right:auto;background-color:var(--bot-background-color);color:var(--bot-text-color);border-radius:1.5rem 1.5rem 1.5rem 0}.user{margin-left:auto;background-color:var(--user-background-color);color:var(--user-text-color);border-radius:1.5rem 1.5rem 0 1.5rem}.footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-top:0.062rem solid rgba(0, 0, 0, 0.05);padding-right:0.625rem;min-height:3.125rem}.footer amplify-input{--border:none;--margin:0;-ms-flex-positive:1;flex-grow:1}canvas{margin-left:0.625rem;margin-right:0.625rem;-ms-flex-positive:1;flex-grow:1;height:3.125rem}.icon-button{--icon-height:1.25rem;--icon-fill:var(--amplify-primary-color);--padding:0.625rem;--width:auto}";\n// enum for possible bot states\nvar ChatState;\n(function (ChatState) {\n    ChatState[ChatState["Initial"] = 0] = "Initial";\n    ChatState[ChatState["Listening"] = 1] = "Listening";\n    ChatState[ChatState["SendingText"] = 2] = "SendingText";\n    ChatState[ChatState["SendingVoice"] = 3] = "SendingVoice";\n    ChatState[ChatState["Error"] = 4] = "Error";\n})(ChatState || (ChatState = {}));\n// Message types\nvar MessageFrom;\n(function (MessageFrom) {\n    MessageFrom["Bot"] = "bot";\n    MessageFrom["User"] = "user";\n})(MessageFrom || (MessageFrom = {}));\n// Error types\nvar ChatErrorType;\n(function (ChatErrorType) {\n    ChatErrorType[ChatErrorType["Recoverable"] = 0] = "Recoverable";\n    ChatErrorType[ChatErrorType["Unrecoverable"] = 1] = "Unrecoverable";\n})(ChatErrorType || (ChatErrorType = {}));\nvar AmplifyChatbot = /** @class */ (function () {\n    function class_1(hostRef) {\n        var _this = this;\n        (0,index_83f2275b.r)(this, hostRef);\n        /** Clear messages when conversation finishes */\n        this.clearOnComplete = false;\n        /** Continue listening to users after they send the message */\n        this.conversationModeOn = false;\n        /** Text placed in the top header */\n        this.botTitle = Translations_c833f663.T.CHATBOT_TITLE;\n        /** Whether voice chat is enabled */\n        this.voiceEnabled = false;\n        /** Whether text chat is enabled */\n        this.textEnabled = true;\n        /** Amount of silence (in ms) to wait for */\n        this.silenceTime = 1500;\n        /** Noise threshold between -1 and 1. Anything below is considered a silence. */\n        this.silenceThreshold = 0.2;\n        /** Messages in current session */\n        this.messages = [];\n        /** Text input box value  */\n        this.text = \'\';\n        /** Current app state */\n        this.chatState = ChatState.Initial;\n        /**\n         * Rendering methods\n         */\n        this.messageJSX = function (messages) {\n            var messageList = messages.map(function (message) { return ((0,index_83f2275b.h)("div", { class: "bubble " + message.from }, message.content)); });\n            if (_this.chatState === ChatState.SendingText ||\n                _this.chatState === ChatState.SendingVoice) {\n                // if waiting for voice message, show animation on user side because app is waiting for transcript. Else put it on bot side.\n                var client = _this.chatState === ChatState.SendingText\n                    ? MessageFrom.Bot\n                    : MessageFrom.User;\n                messageList.push((0,index_83f2275b.h)("div", { class: "bubble " + client }, (0,index_83f2275b.h)("div", { class: "dot-flashing " + client }, (0,index_83f2275b.h)("span", { class: "dot left" }), (0,index_83f2275b.h)("span", { class: "dot middle" }), (0,index_83f2275b.h)("span", { class: "dot right" }))));\n            }\n            return messageList;\n        };\n        this.chatCompleted = (0,index_83f2275b.c)(this, "chatCompleted", 7);\n    }\n    // Occurs when user presses enter in input box\n    class_1.prototype.submitHandler = function (_event) {\n        this.sendTextMessage();\n    };\n    /**\n     * Lifecycle functions\n     */\n    class_1.prototype.componentWillLoad = function () {\n        if (!Interactions || typeof Interactions.onComplete !== \'function\') {\n            throw new Error(constants_d1abe7de.d);\n        }\n        this.validateProps();\n    };\n    class_1.prototype.componentDidRender = function () {\n        // scroll to the bottom if necessary\n        var body = this.element.shadowRoot.querySelector(\'.body\');\n        body.scrollTop = body.scrollHeight;\n    };\n    class_1.prototype.validateProps = function () {\n        var _this = this;\n        if (!this.voiceEnabled && !this.textEnabled) {\n            this.setError(Translations_c833f663.T.CHAT_DISABLED_ERROR, ChatErrorType.Unrecoverable);\n            return;\n        }\n        else if (!this.botName) {\n            this.setError(Translations_c833f663.T.NO_BOT_NAME_ERROR, ChatErrorType.Unrecoverable);\n            return;\n        }\n        if (this.welcomeMessage)\n            this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n        // Initialize AudioRecorder if voice is enabled\n        if (this.voiceEnabled) {\n            this.audioRecorder = new AudioRecorder({\n                time: this.silenceTime,\n                amplitude: this.silenceThreshold,\n            });\n            this.audioRecorder.init().catch(function (err) {\n                _this.setError(err, ChatErrorType.Recoverable);\n            });\n        }\n        // Callback function to be called after chat is completed\n        var onComplete = function (err, data) {\n            _this.chatCompleted.emit({\n                data: data,\n                err: err,\n            });\n            if (_this.clearOnComplete) {\n                _this.reset();\n            }\n            else {\n                _this.chatState = ChatState.Initial;\n            }\n        };\n        try {\n            Interactions.onComplete(this.botName, onComplete);\n        }\n        catch (err) {\n            this.setError(err, ChatErrorType.Unrecoverable);\n        }\n    };\n    /**\n     * Handlers\n     */\n    class_1.prototype.handleSubmit = function (event) {\n        event.preventDefault();\n        this.sendTextMessage();\n    };\n    class_1.prototype.handleMicButton = function () {\n        var _this = this;\n        if (this.chatState !== ChatState.Initial)\n            return;\n        this.audioRecorder.stop();\n        this.chatState = ChatState.Listening;\n        this.audioRecorder.startRecording(function () { return _this.handleSilence(); }, function (data, length) { return _this.visualizer(data, length); });\n    };\n    class_1.prototype.handleSilence = function () {\n        var _this = this;\n        this.chatState = ChatState.SendingVoice;\n        this.audioRecorder.stopRecording();\n        this.audioRecorder.exportWAV().then(function (blob) {\n            _this.sendVoiceMessage(blob);\n        });\n    };\n    class_1.prototype.handleTextChange = function (event) {\n        var target = event.target;\n        this.text = target.value;\n    };\n    class_1.prototype.handleCancelButton = function () {\n        this.audioRecorder.clear();\n        this.chatState = ChatState.Initial;\n    };\n    class_1.prototype.handleToastClose = function (errorType) {\n        this.error = undefined; // clear error\n        // if error is recoverable, reset the app state to initial\n        if (errorType === ChatErrorType.Recoverable) {\n            this.chatState = ChatState.Initial;\n        }\n    };\n    /**\n     * Visualization\n     */\n    class_1.prototype.visualizer = function (dataArray, bufferLength) {\n        var canvas = this.element.shadowRoot.querySelector(\'canvas\');\n        visualize(dataArray, bufferLength, canvas);\n    };\n    /**\n     * Interactions helpers\n     */\n    class_1.prototype.sendTextMessage = function () {\n        return amplify_chatbot_entry_awaiter(this, void 0, void 0, function () {\n            var text, response, err_3;\n            return amplify_chatbot_entry_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.text.length === 0 || this.chatState !== ChatState.Initial)\n                            return [2 /*return*/];\n                        text = this.text;\n                        this.text = \'\';\n                        this.appendToChat(text, MessageFrom.User);\n                        this.chatState = ChatState.SendingText;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Interactions.send(this.botName, text)];\n                    case 2:\n                        response = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_3 = _a.sent();\n                        this.setError(err_3, ChatErrorType.Recoverable);\n                        return [2 /*return*/];\n                    case 4:\n                        if (response.message) {\n                            this.appendToChat(response.message, MessageFrom.Bot);\n                        }\n                        this.chatState = ChatState.Initial;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.sendVoiceMessage = function (audioInput) {\n        return amplify_chatbot_entry_awaiter(this, void 0, void 0, function () {\n            var interactionsMessage, response, err_4, dialogState;\n            var _this = this;\n            return amplify_chatbot_entry_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        interactionsMessage = {\n                            content: audioInput,\n                            options: {\n                                messageType: \'voice\',\n                            },\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Interactions.send(this.botName, interactionsMessage)];\n                    case 2:\n                        response = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_4 = _a.sent();\n                        this.setError(err_4, ChatErrorType.Recoverable);\n                        return [2 /*return*/];\n                    case 4:\n                        this.chatState = ChatState.Initial;\n                        dialogState = response.dialogState;\n                        if (response.inputTranscript)\n                            this.appendToChat(response.inputTranscript, MessageFrom.User);\n                        this.appendToChat(response.message, MessageFrom.Bot);\n                        return [4 /*yield*/, this.audioRecorder\n                                .play(response.audioStream)\n                                .then(function () {\n                                // if conversationMode is on, chat is incomplete, and mic button isn\'t pressed yet, resume listening.\n                                if (_this.conversationModeOn &&\n                                    dialogState !== \'Fulfilled\' &&\n                                    dialogState !== \'Failed\' &&\n                                    _this.chatState === ChatState.Initial) {\n                                    _this.handleMicButton();\n                                }\n                            })\n                                .catch(function (err) { return _this.setError(err, ChatErrorType.Recoverable); })];\n                    case 5:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.appendToChat = function (content, from) {\n        this.messages = amplify_chatbot_entry_spreadArrays(this.messages, [\n            {\n                content: content,\n                from: from,\n            },\n        ]);\n    };\n    /**\n     * State control methods\n     */\n    class_1.prototype.setError = function (error, errorType) {\n        var message = typeof error === \'string\' ? error : error.message;\n        this.chatState = ChatState.Error;\n        this.error = { message: message, errorType: errorType };\n    };\n    class_1.prototype.reset = function () {\n        this.chatState = ChatState.Initial;\n        this.text = \'\';\n        this.error = undefined;\n        this.messages = [];\n        if (this.welcomeMessage)\n            this.appendToChat(this.welcomeMessage, MessageFrom.Bot);\n        this.audioRecorder && this.audioRecorder.clear();\n    };\n    class_1.prototype.listeningFooterJSX = function () {\n        var _this = this;\n        var visualization = (0,index_83f2275b.h)("canvas", { height: "50" });\n        var cancelButton = ((0,index_83f2275b.h)("amplify-button", { "data-test": "chatbot-cancel-button", handleButtonClick: function () { return _this.handleCancelButton(); }, class: "icon-button", variant: "icon", icon: "ban" }));\n        return [visualization, cancelButton];\n    };\n    class_1.prototype.footerJSX = function () {\n        var _this = this;\n        if (this.chatState === ChatState.Listening)\n            return this.listeningFooterJSX();\n        var inputPlaceholder = this.textEnabled\n            ? Translations_c833f663.T.TEXT_INPUT_PLACEHOLDER\n            : Translations_c833f663.T.VOICE_INPUT_PLACEHOLDER;\n        var textInput = ((0,index_83f2275b.h)("amplify-input", { placeholder: I18n/* I18n.get */.o.get(inputPlaceholder), description: "text", handleInputChange: function (evt) { return _this.handleTextChange(evt); }, value: this.text, disabled: this.chatState === ChatState.Error || !this.textEnabled }));\n        var micButton = this.voiceEnabled && ((0,index_83f2275b.h)("amplify-button", { "data-test": "chatbot-mic-button", handleButtonClick: function () { return _this.handleMicButton(); }, class: "icon-button", variant: "icon", icon: "microphone", disabled: this.chatState === ChatState.Error ||\n                this.chatState !== ChatState.Initial }));\n        var sendButton = this.textEnabled && ((0,index_83f2275b.h)("amplify-button", { "data-test": "chatbot-send-button", class: "icon-button", variant: "icon", icon: "send", handleButtonClick: function () { return _this.sendTextMessage(); }, disabled: this.chatState === ChatState.Error ||\n                this.chatState !== ChatState.Initial }));\n        return [textInput, micButton, sendButton];\n    };\n    class_1.prototype.errorToast = function () {\n        var _this = this;\n        if (!this.error)\n            return;\n        var _a = this.error, message = _a.message, errorType = _a.errorType;\n        return ((0,index_83f2275b.h)("amplify-toast", { message: I18n/* I18n.get */.o.get(message), handleClose: function () { return _this.handleToastClose(errorType); } }));\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        return ((0,index_83f2275b.h)(index_83f2275b.H, null, (0,index_83f2275b.h)("div", { class: "amplify-chatbot" }, (0,index_83f2275b.h)("slot", { name: "header" }, (0,index_83f2275b.h)("div", { class: "header", "data-test": "chatbot-header" }, I18n/* I18n.get */.o.get(this.botTitle))), (0,index_83f2275b.h)("div", { class: "body", "data-test": "chatbot-body" }, this.messageJSX(this.messages)), (0,index_83f2275b.h)("form", { onSubmit: function (e) { return _this.handleSubmit(e); } }, (0,index_83f2275b.h)("div", { class: "footer", "data-test": "chatbot-footer" }, this.footerJSX())), this.errorToast())));\n    };\n    Object.defineProperty(class_1.prototype, "element", {\n        get: function () { return (0,index_83f2275b.g)(this); },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nAmplifyChatbot.style = amplifyChatbotCss;\n\n\n\n//# sourceURL=webpack:///../node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-chatbot.entry.js_+_14_modules?')}}]);